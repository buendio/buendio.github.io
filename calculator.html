<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="/css/style.css">
    <style>
        select {
		display: block;
		width: 100%;
        height: 40px;
        margin-bottom: 20px;
        padding-left: 20px;
		box-sizing: border-box;
		border: 1px solid rgba(0,0,0, .1);
		box-sizing: border-box;
		border-radius:10px;
		background-color: rgb(255, 255, 255);
		font-size: 1.359rem;
	}
    </style>
</head>
<body class="enter">
    <form class="register">
        <select class="length">
            <option value="2">2</option>
            <option value="4">4</option>
            <option value="6">6</option>
            <option value="8">8</option>
            <option value="10">10</option>
            <option value="12">12</option>
            <option value="14">14</option>
            <option value="16">16</option>
            <option value="18">18</option>
            <option value="20">20</option>
            <option value="22">22</option>
            <option value="24">24</option>
            <option value="26">26</option>
            <option value="28">28</option>
            <option value="30">30</option>
          </select>
        <select class="width">
            <option value="2">2</option>
            <option value="4">4</option>
            <option value="6">6</option>
            <option value="8">8</option>
            <option value="10">10</option>
            <option value="12">12</option>
            <option value="14">14</option>
            <option value="16">16</option>
            <option value="18">18</option>
            <option value="20">20</option>
            <option value="22">22</option>
            <option value="24">24</option>
            <option value="26">26</option>
            <option value="28">28</option>
            <option value="30">30</option>
          </select>
        
        <button class="calc">calculate</button>
        <h1></h1>
    </form>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const register = document.querySelector('.register');
            const h1 = document.querySelector('h1');
            const calc = document.querySelector('.calc');
            const length = document.querySelector('.length');
            const width = document.querySelector('.width');

            calc.addEventListener('click', (e) => {
                e.preventDefault();

               let square = length.value * width.value;
               let elements = square / 4;
               let p6 = 6;
               let p8 = 8;
               let arr = []; 
                if (elements % p8 == 0 && elements > 7) {
                    let res = elements / 8;
                    h1.innerHTML = ` You will need ${res}packs of 8pcs`;
                } 
                else if (elements > 5)  {                
                    for ( let i = 1 ; i < 30; i += 1) {
                        if ((elements - i * p8) % p6 == 0 && (elements - i * p8) > 0) {
                            arr.push(i);
                            let res =  Math.max.apply(null, arr);
                            let res2 = (elements - res * p8) / p6;
                            h1.innerHTML = `You will need ${res}packs of 8pcs, ${res2} packs of 6pcs`;                       
                        }  
                        else if (arr.length == 0 && elements % p6 == 0 && elements > 5)  {
                                let res = elements / p6;
                                h1.innerHTML = `You will need ${res}packs of 6pcs`;    
                        }
                        else if (arr.length == 0) {
                            let res = Math.trunc(elements / p8)
                            let res2 =Math.trunc(elements / p6);

                            if (res * p8 < elements) {
                                res = res +1;
                                console.log(res);
                            }
                            if (res2 * p6 < elements) {
                                res2 = res2 +1;
                            }
                            if ((p6 * res2) - elements   > (p8 * res) - elements) {                                 
                                    h1.innerHTML = `You will need ${res}packs of 8pcs`;
                               
                            }
                            else {
                                  
                                    h1.innerHTML = `You will need ${res2}packs of 6pcs`;
                                
                            }
                        }               
                    }    
                }
                else {
                    h1.innerHTML = `Дастатачно адной таблэтки`;
                }
            }) ////////end listener

    /////////////////////////////
        })
    </script>
</body>
</html>